{"version":3,"sources":["webpack:///./src/assets/img/map1.jpg","webpack:///./src/assets/img/map.jpg","webpack:///./src/views/ChooseMaps.vue?e558","webpack:///./src/views/ChooseMaps.vue","webpack:///src/views/ChooseMaps.vue","webpack:///./src/views/ChooseMaps.vue?138d","webpack:///./src/views/ChooseMaps.vue?d534","webpack:///./src/assets/img/map2.jpg","webpack:///./src/assets/img/map3.jpg"],"names":["module","exports","render","_vm","this","_c","_self","staticClass","loadsTotal","attrs","require","_e","_v","class","triggerActive","on","tirggerColor","directives","name","rawName","value","expression","domProps","$event","target","composing","staticRenderFns","data","camera","scene","renderer","bgImage","meshList","controls","mesh","computed","created","beforeCreate","console","mounted","methods","map","overdraw","changeImage","onWheel","loadingImage","init","container","antialias","alpha","animate","requestAnimationFrame","component"],"mappings":"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","file":"static/js/chunk-1a5b3cf9.1f7516cb.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/img/map1.603f5c37.jpg\";","module.exports = __webpack_public_path__ + \"static/img/map.554eb293.jpg\";","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChooseMaps.vue?vue&type=style&index=0&id=288b8188&prod&lang=scss&scoped=true&\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"home\"},[(_vm.loadsTotal < 3)?_c('div',{staticClass:\"loading-box\"},[_c('img',{staticClass:\"loading-bg\",attrs:{\"src\":require(\"../assets/img/loading-bg2.jpg\"),\"alt\":\"\"}}),_c('img',{staticClass:\"loading\",attrs:{\"src\":require(\"../assets/img/loading.gif\"),\"alt\":\"\"}})]):_vm._e(),_c('div',{staticClass:\"left\"},[_c('div',{staticClass:\"left-top\"},[_c('span',{staticClass:\"text middle\"},[_vm._v(\"Pollution Level\")]),_c('div',{staticClass:\"box-item\"},[_c('span',{class:['item','white',_vm.triggerActive == 1 ? 'itemActive' : ''],on:{\"click\":()=>{_vm.tirggerColor(1)}}}),_c('span',{class:['item','grey',_vm.triggerActive == 2 ? 'itemActive' : ''],on:{\"click\":()=>{_vm.tirggerColor(2)}}}),_c('span',{class:['item','black',_vm.triggerActive == 3 ? 'itemActive' : ''],on:{\"click\":()=>{_vm.tirggerColor(3)}}})])])]),_c('div',{staticClass:\"right\"},[_c('div',{staticClass:\"right-top\"},[_c('span',{staticClass:\"text middle\"},[_vm._v(\"Search\")]),_c('div',{staticClass:\"box-item\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.value),expression:\"value\"}],staticClass:\"inputStyle\",attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.value)},on:{\"input\":function($event){if($event.target.composing)return;_vm.value=$event.target.value}}})])])]),_c('div',{attrs:{\"id\":\"container\"}}),_c('div',{staticClass:\"start\"},[_c('router-link',{attrs:{\"to\":\"/demo\"}},[_c('img',{attrs:{\"src\":require(\"../assets/img/start2.png\"),\"alt\":\"\"}})])],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"home\">\n    <div class=\"loading-box\" v-if=\"loadsTotal < 3\">\n      <img class=\"loading-bg\" src=\"../assets/img/loading-bg2.jpg\" alt=\"\" >\n      <img class=\"loading\" src=\"../assets/img/loading.gif\" alt=\"\">\n    </div>\n    <div class=\"left\">\n      <div class=\"left-top\">\n        <span class=\"text middle\">Pollution Level</span>\n        <div class=\"box-item\">\n          <span :class=\"['item','white',triggerActive == 1 ? 'itemActive' : '']\" @click=\"()=>{tirggerColor(1)}\"></span>\n          <span :class=\"['item','grey',triggerActive == 2 ? 'itemActive' : '']\" @click=\"()=>{tirggerColor(2)}\"></span>\n          <span :class=\"['item','black',triggerActive == 3 ? 'itemActive' : '']\" @click=\"()=>{tirggerColor(3)}\"></span>\n       </div>\n      </div>\n    </div>\n    <div class=\"right\">\n      <div class=\"right-top\">\n        <span class=\"text middle\">Search</span>\n        <div class=\"box-item\">\n          <input class=\"inputStyle\" type=\"text\" v-model=\"value\">\n       </div>\n      </div>\n    </div>\n    <div id=\"container\"></div>  \n    <div class=\"start\">\n      <router-link to=\"/demo\"><img src=\"../assets/img/start2.png\" alt=\"\"></router-link>\n    </div>\n  </div>\n</template>\n\n<script>\n  \nimport * as THREE from \"three\";\nimport { OrbitControls } from \"three/examples/jsm/controls/OrbitControls\";\nimport map from '@/assets/img/map.jpg'\nimport map1 from '@/assets/img/map1.jpg'\nimport map2 from '@/assets/img/map2.jpg'\nimport map3 from '@/assets/img/map3.jpg'\nexport default {\n    name: \"home\",\n   \n    data() {\n        return {\n          camera: null,\n          scene: null,\n          renderer: null,\n          bgImage:[map,map1,map2,map3],\n          meshList:[],\n          loadsTotal:0,\n          controls:null,\n          mesh: null,\n          triggerActive:0,\n          value:\"\",\n        };\n    },\n    computed: {\n    },\n    created() {\n     \n    },\n    beforeCreate() {\n      console.log(\"bgImage\",[map,map1,map2,map3])\n      this.$nextTick(()=>{\n        this.loadsTotal = 0\n        for (let index = 0; index < this.bgImage.length; index++) {\n          this.loadingImage(this.bgImage[index])\n          console.log(\"meshList\",this.meshList)\n        }\n      })\n    },\n    mounted() {\n\t    this.init();\n\t    this.animate();\n\t  },\n    methods: {\n      tirggerColor(count){\n        console.log(\"count\",count)\n        if(this.triggerActive == count) {\n          this.triggerActive = 0\n          let geometry = new THREE.SphereGeometry(150, 30, 30)\n        let material = new THREE.MeshBasicMaterial({ map: this.meshList[0], overdraw: 0.5 })\n        this.mesh = new THREE.Mesh(geometry, material)\n        this.mesh.geometry.scale(1, 1, -1)\n        this.scene.add(this.mesh)\n          return\n        }\n        this.triggerActive = count\n        let geometry = new THREE.SphereGeometry(150, 30, 30)\n        let material = new THREE.MeshBasicMaterial({ map: this.meshList[count], overdraw: 0.5 })\n        this.mesh = new THREE.Mesh(geometry, material)\n        this.mesh.geometry.scale(1, 1, -1)\n        this.scene.add(this.mesh)\n    \n      },\n      changeImage(image){\n       \n      },\n      onWheel(event){\n        // console.log(\"event\",event)\n        // console.log(\"event.deltaY\",event.deltaY)\n        // console.log(\"event.wheelDeltaY\",event.wheelDeltaY)\n        let fovMAX = 120; \n        let fovMIN = 5; \n        let newFov = this.camera.fov + event.deltaY * 0.05; \n        if (newFov > fovMIN && newFov < fovMAX) { \n          this.camera.fov = newFov; \n          this.camera.updateProjectionMatrix(); \n        }; \n        if(newFov >= fovMAX || newFov <= fovMIN){\n          this.controls.enableZoom = false;\n        }else{\n          this.controls.enableZoom = true;\n        }\n        // console.log(\"newFov\",newFov)\n      },\n      loadingImage(image){\n        // console.log(image)\n        let geometry = new THREE.SphereGeometry(5, 32, 32)\n        let texture = new THREE.TextureLoader().load(image,()=>{\n          this.loadsTotal++\n          console.log(\"loadsTotal\",this.loadsTotal)\n        })\n        this.meshList.push(texture)\n      },\n      init() {\n\t      let container = document.getElementById(\"container\"); //容器\n\t\n\t      this.camera = new THREE.PerspectiveCamera(\n\t        60,\n\t        container.clientWidth / container.clientHeight,\n\t        1,\n\t        2000\n\t      ); //初始化相机，参数通俗讲PerspectiveCamera(远近，宽高比,摄像机视锥体近端面(默认0.1)，摄像机视锥体远端面(默认2000，无限大，表示可以看到最远))\n\t      this.camera.position.z = 500; //Z轴的距离\n\t      this.scene = new THREE.Scene(); //初始化场景\n\t\n        let geometry = new THREE.SphereGeometry(150, 30, 30)\n        let texture = new THREE.TextureLoader().load(this.bgImage[0])\n        let material = new THREE.MeshBasicMaterial({ map: texture, overdraw: 0.5 })\n        this.mesh = new THREE.Mesh(geometry, material)\n        this.mesh.geometry.scale(1, 1, -1)\n        this.scene.add(this.mesh)\n\t    \n\t\n\t      this.renderer = new THREE.WebGLRenderer({ antialias: true ,alpha:true}); //render函数\n        this.renderer.setSize(container.clientWidth, container.clientHeight); //设置render的尺寸\n\t      container.appendChild(this.renderer.domElement); //插入container\n\t      this.controls = new OrbitControls(this.camera, container); //控制器，可实现鼠标左键旋转，右键拖动，滑轮缩放,OrbitControls第二个参数新版必填为绑定元素，改变相机对象的角度\n        this.controls.enableZoom = false;\n        this.controls.enablePan = false;\n        this.controls.enableDamping = true;\n        this.controls.rotateSpeed = - 0.5;//相机的旋转速度，默认 3.0\n      },\n      animate() {\n\t      requestAnimationFrame(this.animate); //此方法会重复调用animate，从而实现旋转\n\t      this.renderer.render(this.scene, this.camera);\n\t    },\n      \n    },\n   \n};\n</script>\n\n<style lang=\"scss\" scoped>\n.home{\n  width: 100%;\n  /* min-height: 100vh; */\n  height: 100%;\n  background: url(\"../assets/img/about.jpg\") center center no-repeat;\n  background-size: 100% 100%;\n}\n#container {\n  width: 100%;\n  height: 100%;\n  canvas{\n    width: 100%;\n    height: 100%;\n  }\n}\n.loading-box{\n    position:fixed;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    display: block;\n    box-sizing: border-box;\n    z-index: 999;\n    background-color: grey;\n  }\n  .loading-bg{\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    display: block;\n    z-index: 999;\n  }\n  .loading{\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    display: block;\n    z-index: 1000;\n  }\n.left{\n  position: absolute;\n  height: 100%;\n  top: 0;\n  left: 0;\n  color: #fff;\n  display: flex;\n  /* flex-direction: column; */\n  align-items: center;\n  .left-top{\n    /* font-family: KomikaTitle-Axis; */\n    padding-left:5vw;\n    text-align: left;\n    .box-item{\n      width: 100%;\n      height: 4vw;\n      margin-top: 1vw;\n      display: flex;\n      flex-direction: row;\n      justify-content: space-between;\n      .item{\n        display: inline-block;\n        width: 25%;\n        height: 2vw;\n        border-radius:25px;\n        cursor:pointer;\n      }\n      .itemActive{\n        border: 3px solid #01d4b1;\n      }\n      .white{\n        background-color: #fff;\n      }\n      .black{\n        background-color: #000;\n      }\n      .grey{\n        background-color: grey;\n      }\n    }\n    .middle{\n      font-size:2vw!important;\n    }\n    .max{\n      font-size:3vw!important;\n    }\n    .text{\n      width: 20vw;\n      line-height: 100%;\n      word-wrap:break-word;\n      word-break:normal; \n      display: inline-block;\n      font-size:1.3vw;\n      vertical-align: middle;\n      /* display: inline-block; */\n    }\n  }\n \n}\n.right{\n  position: absolute;\n  height: 100%;\n  top: 0;\n  right: 0;\n  color: #fff;\n  display: flex;\n  /* flex-direction: column; */\n  align-items: center;\n  .right-top{\n    /* font-family: KomikaTitle-Axis; */\n    padding-right:5vw;\n    text-align: right;\n    .box-item{\n      width: 100%;\n      margin-top: 1vw;\n      display: flex;\n      flex-direction: row;\n      /* justify-content: space-between; */\n      justify-content: center;\n      align-items: center;\n      .inputStyle{\n        width: 15vw;\n        display: inline-block;\n        border-radius:25px;\n        outline: none;\n        border: none;\n        margin: 0;\n        padding: 0;\n        background-color:rgba(128,128,128,0.3);\n        font-size: 16px;\n        color:#fff;\n        padding:0.5vw 1vw;\n      }\n    }\n    .middle{\n      font-size:2vw!important;\n    }\n    .max{\n      font-size:3vw!important;\n    }\n    .text{\n      width: 20vw;\n      line-height: 100%;\n      word-wrap:break-word;\n      word-break:normal; \n      display: inline-block;\n      font-size:1.3vw;\n      vertical-align: middle;\n      text-align: center;\n      /* display: inline-block; */\n    }\n  }\n}\n.start{\n  width: 8vw;\n  position: absolute;\n  bottom:3vw;\n  right: 5vw;\n  a{\n    width: 100%;\n    display: inline-block;\n  }\n  img{\n    width: 100%;\n    display: inline-block;\n  }\n}\n</style>\n\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChooseMaps.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChooseMaps.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ChooseMaps.vue?vue&type=template&id=288b8188&scoped=true&\"\nimport script from \"./ChooseMaps.vue?vue&type=script&lang=js&\"\nexport * from \"./ChooseMaps.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ChooseMaps.vue?vue&type=style&index=0&id=288b8188&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"288b8188\",\n  null\n  \n)\n\nexport default component.exports","module.exports = __webpack_public_path__ + \"static/img/map2.7c9442b5.jpg\";","module.exports = __webpack_public_path__ + \"static/img/map3.54bf9d62.jpg\";"],"sourceRoot":""}